@page "/pessoas/cadastro"
@using BancoTalentos.Domain.Entity.Enums
@using BancoTalentos.UI.Components.Pages.Pessoas.dto
@using BancoTalentos.Domain.Entity;
@using SenacPlataform.Shared.Converter
@using SenacPlataform.Shared.Extensions

<RadzenTemplateForm Data="@Data">
    <RadzenRow Gap="2rem" class="rz-p-0 rz-p-lg-4">
        <RadzenColumn Size="12" SizeMD="6">
            <RadzenStack>
                <RadzenFieldset Text="Dados da pessoa">
                    <RadzenStack>
                        <RadzenRow AlignItems="AlignItems.Center">
                            <RadzenColumn Size="12" SizeMD="4">
                                <RadzenLabel Text="Nome" Component="CardHolder" />
                            </RadzenColumn>
                            <RadzenColumn Size="12" SizeMD="8">
                                <RadzenTextBox Name="CardHolder" />
                            </RadzenColumn>
                        </RadzenRow>
                        <RadzenRow AlignItems="AlignItems.Center">
                            <RadzenColumn Size="12" SizeMD="4">
                                <RadzenLabel Text="Carga horária" Component="CardHolder" />
                            </RadzenColumn>
                            <RadzenColumn Size="12" SizeMD="8">
                                <RadzenNumeric TValue="int" Name="CardHolder" />
                            </RadzenColumn>
                        </RadzenRow>
                        <RadzenRow AlignItems="AlignItems.Center">
                            <RadzenColumn Size="12" SizeMD="4">
                                <RadzenLabel Text="Cargo" Component="CardId" />
                            </RadzenColumn>
                            <RadzenColumn Size="12" SizeMD="8">
                                <RadzenDropDown @bind-Value="Data.Cargo"
                                                AllowClear="true"
                                                Placeholder="Selecione o cargo"
                                                Data="@Cargos"
                                                Style="width: 100%;"
                                                Name="CardId" />
                            </RadzenColumn>
                        </RadzenRow>
                        <RadzenRow AlignItems="AlignItems.Center">
                            <RadzenColumn Size="12" SizeMD="4">
                                <RadzenLabel Text="Foto" Component="CardNr" />
                            </RadzenColumn>
                            <RadzenColumn Size="12" SizeMD="8">
                                <RadzenFileInput @bind-Value=@Data.Foto @bind-FileName=@fileName @bind-FileSize=@fileSize TValue="string" Style="width: 100%" />

                            </RadzenColumn>
                        </RadzenRow>
                    </RadzenStack>
                </RadzenFieldset>
            </RadzenStack>
        </RadzenColumn>
        <RadzenColumn Size="12" SizeMD="6">
            <RadzenStack>
                <RadzenFieldset Text="Dados de contato">
                    <RadzenStack>
                        <RadzenRow AlignItems="AlignItems.Center">
                            <RadzenColumn Size="12" SizeMD="4">
                                <RadzenLabel Text="Nome" Component="CardHolder" />
                            </RadzenColumn>
                            <RadzenColumn Size="12" SizeMD="8">
                                <RadzenTextBox Style="width: 100%;" Name="CardHolder" />
                            </RadzenColumn>
                        </RadzenRow>
                        <RadzenRow AlignItems="AlignItems.Center">
                            <RadzenColumn Size="12" SizeMD="4">
                                <RadzenLabel Text="Cargo" Component="CardId" />
                            </RadzenColumn>
                            <RadzenColumn Size="12" SizeMD="8">
                                <RadzenDropDown @bind-Value="Data.Id"
                                                AllowClear="true"
                                                Placeholder="Selecione o cargo"
                                                Data="@Cargos"
                                                Style="width: 100%;"
                                                Name="CardId" />
                            </RadzenColumn>
                        </RadzenRow>
                        <RadzenRow AlignItems="AlignItems.Center">
                            <RadzenColumn Size="12" SizeMD="4">
                                <RadzenLabel Text="Foto" Component="CardNr" />
                            </RadzenColumn>
                            <RadzenColumn Size="12" SizeMD="8">
                                <RadzenFileInput @bind-Value=@Data.Foto
                                                 @bind-FileName=@fileName
                                                 @bind-FileSize=@fileSize
                                                 TValue="string"
                                                 Style="width: 100%" />

                            </RadzenColumn>
                        </RadzenRow>
                    </RadzenStack>
                </RadzenFieldset>
            </RadzenStack>
        </RadzenColumn>
    </RadzenRow>
    <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.Center" Gap="1rem" class="rz-mt-8 rz-mb-4">
        <RadzenButton ButtonType="ButtonType.Submit" Icon="save" Text="Save" />
        <RadzenButton ButtonStyle="ButtonStyle.Light" Variant="Variant.Flat" Icon="cancel" Text="Cancel" />
    </RadzenStack>
</RadzenTemplateForm>

@code {
    Variant variant = Variant.Outlined;
    string fileName;
    long? fileSize;
    public PessoaDto Data { get; set; }
    public IEnumerable<string> Cargos { get; set; } = EnumConverter.SNToList<CARGO>();
}
